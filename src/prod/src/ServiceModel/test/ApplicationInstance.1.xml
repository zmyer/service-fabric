<?xml version="1.0" encoding="UTF-8"?>
<!--Sample XML file generated by XMLSpy v2011 rel. 2 sp1 (http://www.altova.com)-->
<ApplicationInstance Version="1" ApplicationId="String" NameUri="http://www.altova.com" ApplicationTypeName="String" ApplicationTypeVersion="String" xmlns="http://schemas.microsoft.com/2011/01/fabric" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  
  <ApplicationPackageRef RolloutVersion="1.0"/>
  
  <ServicePackageRef RolloutVersion="1.1" Name="String"/>
  <ServicePackageRef RolloutVersion="1.1" Name="String1"/>
  <ServicePackageRef RolloutVersion="1.1" Name="String2"/>

  <ServiceTemplates>
    <StatelessService InstanceCount="1" ServiceTypeName="StatelessService1">
      <SingletonPartition/>
      <ServiceCorrelations>
        <ServiceCorrelation ServiceName="RequiredCalc" Scheme="Affinity"/>
      </ServiceCorrelations>
    </StatelessService>
    <StatelessService ServiceTypeName="StatelessService2" >
      <UniformInt64Partition LowKey="10" HighKey="100" PartitionCount="5"/>
      <ServiceCorrelations>
        <ServiceCorrelation ServiceName="RequiredCalc" Scheme="Affinity"/>
      </ServiceCorrelations>
    </StatelessService>
    <StatelessService ServiceTypeName="StatelessService3" >
      <NamedPartition>
        <Partition Name="Partition1" ></Partition>        
      </NamedPartition>
      <LoadMetrics>
        <LoadMetric Name="MetricA" PrimaryDefaultLoad="0" Weight="Medium"/>
        <LoadMetric Name="MetricB" Weight="High"/>
      </LoadMetrics>
      <PlacementConstraints>String</PlacementConstraints>
      <ServiceScalingPolicies>
        <ScalingPolicy>
            <AveragePartitionLoadScalingTrigger MetricName="MetricB" LowerLoadThreshold="1" UpperLoadThreshold="2" ScaleIntervalInSeconds="100"/>
            <InstanceCountScalingMechanism MinInstanceCount="3" MaxInstanceCount="4" ScaleIncrement="1"/>
        </ScalingPolicy>
      </ServiceScalingPolicies>
    </StatelessService>
    <StatefulService ServiceTypeName="StatefulService1" MinReplicaSetSize="5" TargetReplicaSetSize="10">
      <UniformInt64Partition LowKey="10" HighKey="100" PartitionCount="5"></UniformInt64Partition>
      <LoadMetrics>
        <LoadMetric Name="MetricA" Weight="Zero"/>        
      </LoadMetrics>
      <PlacementConstraints>String</PlacementConstraints>
      <ServiceCorrelations>
        <ServiceCorrelation ServiceName="AverseCalc" Scheme="Affinity"/>
      </ServiceCorrelations>
    </StatefulService>
    <StatefulService ServiceTypeName="StatefulService2" >
      <SingletonPartition></SingletonPartition>
    </StatefulService>
    <StatefulService ServiceTypeName="StatefulService3" >
      <NamedPartition>
        <Partition Name="Partition1" ></Partition>
        <Partition Name="Partition2"/>
      </NamedPartition>
    </StatefulService>

  </ServiceTemplates>

  <DefaultServices>
    <Service Name="Service1">
      <StatelessService InstanceCount="1" ServiceTypeName="text">
        <SingletonPartition/>
        <LoadMetrics>
          <LoadMetric Name="MetricA" Weight="Low"/>
        </LoadMetrics>
        <PlacementConstraints>String</PlacementConstraints>
        <ServiceCorrelations>
          <ServiceCorrelation ServiceName="AverseCalc" Scheme="Affinity"/>
        </ServiceCorrelations>
      </StatelessService>
    </Service>
    <Service Name="Service2" ServicePackageActivationMode="SharedProcess">
      <StatelessService InstanceCount="1" ServiceTypeName="text">
        <SingletonPartition/>
        <LoadMetrics>
          <LoadMetric Name="MetricA" Weight="Low"/>
        </LoadMetrics>
        <PlacementConstraints>String</PlacementConstraints>
        <ServiceCorrelations>
          <ServiceCorrelation ServiceName="AverseCalc" Scheme="Affinity"/>
        </ServiceCorrelations>
      </StatelessService>
    </Service>
    <Service Name="Service3" ServiceDnsName="Service3.Dns.Name" ServicePackageActivationMode="ExclusiveProcess">
      <StatelessService InstanceCount="1" ServiceTypeName="text">
        <SingletonPartition/>
        <LoadMetrics>
          <LoadMetric Name="MetricA" Weight="Low"/>
        </LoadMetrics>
        <PlacementConstraints>String</PlacementConstraints>
        <ServiceCorrelations>
          <ServiceCorrelation ServiceName="AverseCalc" Scheme="Affinity"/>
        </ServiceCorrelations>
      </StatelessService>
    </Service>
    <Service Name="Service4" ServicePackageActivationMode="ExclusiveProcess">
      <StatelessService InstanceCount="1" ServiceTypeName="text">
        <SingletonPartition/>
        <LoadMetrics>
          <LoadMetric Name="MetricA" Weight="Low"/>
        </LoadMetrics>
        <ServiceScalingPolicies>
            <ScalingPolicy>
                <AverageServiceLoadScalingTrigger MetricName="MetricA" LowerLoadThreshold="1" UpperLoadThreshold="2" ScaleIntervalInSeconds="100"/>
                <InstanceCountScalingMechanism MinInstanceCount="1" MaxInstanceCount="2" ScaleIncrement="1"/>
            </ScalingPolicy>
        </ServiceScalingPolicies>
      </StatelessService>
    </Service>
  </DefaultServices>
  
</ApplicationInstance>
